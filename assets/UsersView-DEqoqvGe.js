import{B as Ce,j as Ae,k as Pe,l as Ne,h as k,c as x,a as l,m as M,p as I,d as Me,q as E,s as f,t as me,v as Te,x as Fe,b as r,y as P,w as v,n as T,e as s,F as ze,f as Z,z as Y,i as F,A as _,C as ce}from"./index-gs0ozOOL.js";import{s as je,a as y,b as N}from"./index-AFfw5_ON.js";import{s as Re,a as Be,b as L,c as He,d as z,e as ve,f as fe,g as pe,h as J}from"./index-BQP_1eV9.js";var Oe=function(t){var i=t.dt;return`
.p-slider {
    position: relative;
    background: `.concat(i("slider.track.background"),`;
    border-radius: `).concat(i("slider.track.border.radius"),`;
}

.p-slider-handle {
    cursor: grab;
    touch-action: none;
    display: flex;
    justify-content: center;
    align-items: center;
    height: `).concat(i("slider.handle.height"),`;
    width: `).concat(i("slider.handle.width"),`;
    background: `).concat(i("slider.handle.background"),`;
    border-radius: `).concat(i("slider.handle.border.radius"),`;
    transition: background `).concat(i("slider.transition.duration"),", color ").concat(i("slider.transition.duration"),", border-color ").concat(i("slider.transition.duration"),", box-shadow ").concat(i("slider.transition.duration"),", outline-color ").concat(i("slider.transition.duration"),`;
    outline-color: transparent;
}

.p-slider-handle::before {
    content: "";
    width: `).concat(i("slider.handle.content.width"),`;
    height: `).concat(i("slider.handle.content.height"),`;
    display: block;
    background: `).concat(i("slider.handle.content.background"),`;
    border-radius: `).concat(i("slider.handle.content.border.radius"),`;
    box-shadow: `).concat(i("slider.handle.content.shadow"),`;
    transition: background `).concat(i("slider.transition.duration"),`;
}

.p-slider:not(.p-disabled) .p-slider-handle:hover {
    background: `).concat(i("slider.handle.hover.background"),`;
}

.p-slider:not(.p-disabled) .p-slider-handle:hover::before {
    background: `).concat(i("slider.handle.content.hover.background"),`;
}

.p-slider-handle:focus-visible {
    box-shadow: `).concat(i("slider.handle.focus.ring.shadow"),`;
    outline: `).concat(i("slider.handle.focus.ring.width")," ").concat(i("slider.handle.focus.ring.style")," ").concat(i("slider.handle.focus.ring.color"),`;
    outline-offset: `).concat(i("slider.handle.focus.ring.offset"),`;
}

.p-slider-range {
    display: block;
    background: `).concat(i("slider.range.background"),`;
    border-radius: `).concat(i("slider.border.radius"),`;
}

.p-slider.p-slider-horizontal {
    height: `).concat(i("slider.track.size"),`;
}

.p-slider-horizontal .p-slider-range {
    inset-block-start: 0;
    inset-inline-start: 0;
    height: 100%;
}

.p-slider-horizontal .p-slider-handle {
    inset-block-start: 50%;
    margin-block-start: calc(-1 * calc(`).concat(i("slider.handle.height"),` / 2));
    margin-inline-start: calc(-1 * calc(`).concat(i("slider.handle.width"),` / 2));
}

.p-slider-vertical {
    min-height: 100px;
    width: `).concat(i("slider.track.size"),`;
}

.p-slider-vertical .p-slider-handle {
    inset-inline-start: 50%;
    margin-inline-start: calc(-1 * calc(`).concat(i("slider.handle.width"),` / 2));
    margin-block-end: calc(-1 * calc(`).concat(i("slider.handle.height"),` / 2));
}

.p-slider-vertical .p-slider-range {
    inset-block-end: 0;
    inset-inline-start: 0;
    width: 100%;
}
`)},$e={handle:{position:"absolute"},range:{position:"absolute"}},qe={root:function(t){var i=t.instance,o=t.props;return["p-slider p-component",{"p-disabled":o.disabled,"p-invalid":i.$invalid,"p-slider-horizontal":o.orientation==="horizontal","p-slider-vertical":o.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},Ke=Ce.extend({name:"slider",theme:Oe,classes:qe,inlineStyles:$e}),We={name:"BaseSlider",extends:je,props:{min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ke,provide:function(){return{$pcSlider:this,$parentInstance:this}}};function Xe(a){return Ge(a)||Qe(a)||Je(a)||Ye()}function Ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Je(a,t){if(a){if(typeof a=="string")return ee(a,t);var i={}.toString.call(a).slice(8,-1);return i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set"?Array.from(a):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ee(a,t):void 0}}function Qe(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Ge(a){if(Array.isArray(a))return ee(a)}function ee(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,o=Array(t);i<t;i++)o[i]=a[i];return o}var he={name:"Slider",extends:We,inheritAttrs:!1,emits:["change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,mutationObserver:null,data:function(){return{isRTL:!1}},beforeUnmount:function(){this.unbindDragListeners(),this.mutationObserver&&this.mutationObserver.disconnect()},mounted:function(){this.updateDirection(),this.observeDirectionChanges()},methods:{updateDomData:function(){var t=this.$el.getBoundingClientRect();this.initX=t.left+Ae(),this.initY=t.top+Pe(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(t){var i,o=t.touches?t.touches[0].pageX:t.pageX,c=t.touches?t.touches[0].pageY:t.pageY;this.orientation==="horizontal"?this.isRTL?i=(this.initX+this.barWidth-o)*100/this.barWidth:i=(o-this.initX)*100/this.barWidth:i=(this.initY+this.barHeight-c)*100/this.barHeight;var d=(this.max-this.min)*(i/100)+this.min;if(this.step){var m=this.range?this.value[this.handleIndex]:this.value,C=d-m;C<0?d=m+Math.ceil(d/this.step-m/this.step)*this.step:C>0&&(d=m+Math.floor(d/this.step-m/this.step)*this.step)}else d=Math.floor(d);this.updateModel(t,d)},updateModel:function(t,i){var o=parseFloat(i.toFixed(10)),c;this.range?(c=this.value?Xe(this.value):[],this.handleIndex==0?(o<this.min?o=this.min:o>=this.max&&(o=this.max),c[0]=o):(o>this.max?o=this.max:o<=this.min&&(o=this.min),c[1]=o)):(o<this.min?o=this.min:o>this.max&&(o=this.max),c=o),this.writeValue(c,t),this.$emit("change",c)},onDragStart:function(t,i){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.value[0]===this.max?this.handleIndex=0:this.handleIndex=i,t.currentTarget.focus())},onDrag:function(t){this.dragging&&this.setValue(t)},onDragEnd:function(t){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:t,value:this.value}))},onBarClick:function(t){this.disabled||Ne(t.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(t))},onMouseDown:function(t,i){this.bindDragListeners(),this.onDragStart(t,i)},onKeyDown:function(t,i){switch(this.handleIndex=i,t.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(t,i),t.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(t,i),t.preventDefault();break;case"PageDown":this.decrementValue(t,i,!0),t.preventDefault();break;case"PageUp":this.incrementValue(t,i,!0),t.preventDefault();break;case"Home":this.updateModel(t,this.min),t.preventDefault();break;case"End":this.updateModel(t,this.max),t.preventDefault();break}},onBlur:function(t,i){var o,c;(o=(c=this.formField).onBlur)===null||o===void 0||o.call(c,t)},decrementValue:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c;this.range?this.step?c=this.value[i]-this.step:c=this.value[i]-1:this.step?c=this.value-this.step:!this.step&&o?c=this.value-10:c=this.value-1,this.updateModel(t,c),t.preventDefault()},incrementValue:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c;this.range?this.step?c=this.value[i]+this.step:c=this.value[i]+1:this.step?c=this.value+this.step:!this.step&&o?c=this.value+10:c=this.value+1,this.updateModel(t,c),t.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)},rangeStyle:function(){if(this.range){var t=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,i=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?this.isRTL?{right:i+"%",width:t+"%"}:{left:i+"%",width:t+"%"}:{bottom:i+"%",height:t+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?this.isRTL?{right:this.handlePosition+"%"}:{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},rangeStartHandleStyle:function(){return this.horizontal?this.isRTL?{right:this.rangeStartPosition+"%"}:{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?this.isRTL?{right:this.rangeEndPosition+"%"}:{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}},updateDirection:function(){this.isRTL=!!this.$el.closest('[dir="rtl"]')},observeDirectionChanges:function(){var t=this,i=document.documentElement,o={attributes:!0,attributeFilter:["dir"]};this.mutationObserver=new MutationObserver(function(){t.updateDirection()}),this.mutationObserver.observe(i,o)}},computed:{value:function(){var t;if(this.range){var i,o,c,d;return[(i=(o=this.d_value)===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:this.min,(c=(d=this.d_value)===null||d===void 0?void 0:d[1])!==null&&c!==void 0?c:this.max]}return(t=this.d_value)!==null&&t!==void 0?t:this.min},horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},handlePosition:function(){return this.value<this.min?0:this.value>this.max?100:(this.value-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.value&&this.value[0]!==void 0?this.value[0]<this.min?0:(this.value[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.value&&this.value.length===2&&this.value[1]!==void 0?this.value[1]>this.max?100:(this.value[1]-this.min)*100/(this.max-this.min):100}}},Ze=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],_e=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],et=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function tt(a,t,i,o,c,d){return k(),x("div",M({class:a.cx("root"),onClick:t[18]||(t[18]=function(){return d.onBarClick&&d.onBarClick.apply(d,arguments)})},a.ptmi("root"),{"data-p-sliding":!1}),[l("span",M({class:a.cx("range"),style:[a.sx("range"),d.rangeStyle()]},a.ptm("range")),null,16),a.range?I("",!0):(k(),x("span",M({key:0,class:a.cx("handle"),style:[a.sx("handle"),d.handleStyle()],onTouchstartPassive:t[0]||(t[0]=function(m){return d.onDragStart(m)}),onTouchmovePassive:t[1]||(t[1]=function(m){return d.onDrag(m)}),onTouchend:t[2]||(t[2]=function(m){return d.onDragEnd(m)}),onMousedown:t[3]||(t[3]=function(m){return d.onMouseDown(m)}),onKeydown:t[4]||(t[4]=function(m){return d.onKeyDown(m)}),onBlur:t[5]||(t[5]=function(m){return d.onBlur(m)}),tabindex:a.tabindex,role:"slider","aria-valuemin":a.min,"aria-valuenow":a.d_value,"aria-valuemax":a.max,"aria-labelledby":a.ariaLabelledby,"aria-label":a.ariaLabel,"aria-orientation":a.orientation},a.ptm("handle")),null,16,Ze)),a.range?(k(),x("span",M({key:1,class:a.cx("handle"),style:[a.sx("handle"),d.rangeStartHandleStyle()],onTouchstartPassive:t[6]||(t[6]=function(m){return d.onDragStart(m,0)}),onTouchmovePassive:t[7]||(t[7]=function(m){return d.onDrag(m)}),onTouchend:t[8]||(t[8]=function(m){return d.onDragEnd(m)}),onMousedown:t[9]||(t[9]=function(m){return d.onMouseDown(m,0)}),onKeydown:t[10]||(t[10]=function(m){return d.onKeyDown(m,0)}),onBlur:t[11]||(t[11]=function(m){return d.onBlur(m,0)}),tabindex:a.tabindex,role:"slider","aria-valuemin":a.min,"aria-valuenow":a.d_value?a.d_value[0]:null,"aria-valuemax":a.max,"aria-labelledby":a.ariaLabelledby,"aria-label":a.ariaLabel,"aria-orientation":a.orientation},a.ptm("startHandler")),null,16,_e)):I("",!0),a.range?(k(),x("span",M({key:2,class:a.cx("handle"),style:[a.sx("handle"),d.rangeEndHandleStyle()],onTouchstartPassive:t[12]||(t[12]=function(m){return d.onDragStart(m,1)}),onTouchmovePassive:t[13]||(t[13]=function(m){return d.onDrag(m)}),onTouchend:t[14]||(t[14]=function(m){return d.onDragEnd(m)}),onMousedown:t[15]||(t[15]=function(m){return d.onMouseDown(m,1)}),onKeydown:t[16]||(t[16]=function(m){return d.onKeyDown(m,1)}),onBlur:t[17]||(t[17]=function(m){return d.onBlur(m,1)}),tabindex:a.tabindex,role:"slider","aria-valuemin":a.min,"aria-valuenow":a.d_value?a.d_value[1]:null,"aria-valuemax":a.max,"aria-labelledby":a.ariaLabelledby,"aria-label":a.ariaLabel,"aria-orientation":a.orientation},a.ptm("endHandler")),null,16,et)):I("",!0)],16)}he.render=tt;const at={class:"flex justify-between gap-4 p-2"},it={class:"flex items-center justify-center w-full"},nt={class:"flex items-center justify-center w-full"},lt={key:0,class:"flex items-center justify-center w-full aspect-square"},st={key:1,class:"flex flex-col gap-6"},rt={key:0,class:"text-red-500"},ot={key:0,class:"text-red-500"},ut={class:"grid grid-cols-12 gap-4"},dt={class:"flex items-center gap-2 col-span-6"},mt={class:"flex items-center gap-2 col-span-6"},ct={class:"mt-6"},vt={key:0,class:"flex items-center justify-center w-full aspect-square"},ft={key:1,class:"flex flex-col gap-6"},pt={key:0,class:"text-red-500"},ht={class:"grid grid-cols-12 gap-4"},gt={class:"flex items-center gap-2 col-span-6"},bt={class:"flex items-center gap-2 col-span-6"},yt={class:"mt-6"},wt={class:"flex justify-start p-2"},kt={key:0,class:"flex items-center justify-center w-full aspect-square"},xt={key:1,class:"flex flex-col gap-6"},St={key:0,class:"text-red-500"},Dt={class:"flex justify-center gap-6"},Lt=Me({__name:"UsersView",setup(a){const t={global:{value:null,matchMode:_.CONTAINS},username:{operator:ce.AND,constraints:[{value:null,matchMode:_.STARTS_WITH}]},role:{operator:ce.AND,constraints:[{value:null,matchMode:_.EQUALS}]}},i=E(),o=f([]),c=f(t),d=f(0),m=f(["id","username","role"]),C=f(!1),j=f(10),te=f(0),ae=f([]),w=f(""),A=f(!1),Q=f(""),D=f(null),R=f(!1),B=f(!1),p=f({username:"",password:"",role:"user",submitted:!1}),H=f(!1),O=f(!1),h=f({id:-1,username:"",password:"",role:"user",submitted:!1}),$=f(!1),q=f(!1),g=f({id:void 0,amount:1,submitted:!1}),K=f(!1),W=f(!1),ie=f([]),U=f(null),V=f([]),G=f(0),ge=me(()=>{var u;return`Estoque de ${(u=U.value)==null?void 0:u.username}`}),ne=me(()=>w.value!==""),X=async()=>{C.value=!0;const u=await i.users.getPagedUsers({page:d.value/j.value+1,size:j.value});return C.value=!1,u.success?(te.value=u.total,u.result):(console.error("Failed to fetch users",u.message),[])},be=async()=>{const u=await i.items.getAllItemNames();if(!u.success){console.error("Failed to fetch item list",u.message);return}ae.value=u.result},le=()=>{c.value=t},se=u=>{switch(u){case"admin":return"Admin";case"moderator":return"Moderador";case"user":return"Jogador";default:return"???"}},re=u=>{switch(u){case"admin":return"danger";case"moderator":return"info";case"user":return"success";default:return"warning"}},ye=()=>{B.value=!0},oe=()=>{B.value=!1,p.value={username:"",password:"",role:"user",submitted:!1}},we=async()=>{if(p.value.submitted=!0,!p.value.username||!p.value.password)return;R.value=!0;const u=E();try{const e=await u.users.createUser({username:p.value.username,password:p.value.password,role:p.value.role});!e.success||!e.id?(console.error("Failed to create user",e.message),w.value=`Erro ao criar usuário: ${e.message}`):(w.value="Usuário criado com sucesso!",o.value=await X())}catch(e){console.error("Failed to create user",e),w.value=`Erro interno ao criar usuário: ${e==null?void 0:e.toString()}`}oe(),R.value=!1,p.value={username:"",password:"",role:"user",submitted:!1}},ke=u=>{h.value={id:u.id,username:u.username,password:"",role:u.role,submitted:!1},O.value=!0},ue=()=>{O.value=!1,h.value={id:-1,username:"",password:"",role:"user",submitted:!1}},xe=async()=>{if(h.value.submitted=!0,!h.value.username)return;H.value=!0;const u=E();try{const e=await u.users.updateUser({id:h.value.id,username:h.value.username,password:h.value.password,role:h.value.role});e.success?(w.value="Usuário salvo com sucesso!",o.value=await X()):(console.error("Failed to update user",e.message),w.value=`Erro ao salvar usuário: ${e.message}`)}catch(e){console.error("Failed to update user",e),w.value=`Erro interno ao salvar usuário: ${e==null?void 0:e.toString()}`}ue(),H.value=!1,h.value={id:-1,username:"",password:"",role:"user",submitted:!1}},Se=async u=>{if(U.value=u,W.value=!0,ie.value=u.owned_items,G.value=0,u.owned_items.length>0){K.value=!0;const n=await E().items.getListItems({ids:u.owned_items});if(K.value=!1,!n.success){console.error("Failed to fetch user stock",n.message);return}V.value=ie.value.filter(b=>n.result.findIndex(S=>S.id===b)>-1).map((b,S)=>({idx:S,...n.result.find(Ie=>Ie.id===b)}))}},De=()=>{W.value=!1,U.value=null,V.value=[]},Ue=()=>{q.value=!0},de=()=>{q.value=!1,g.value={id:void 0,amount:1,submitted:!1}},Ve=async()=>{if(g.value.submitted=!0,!(!g.value.id||isNaN(g.value.amount))){$.value=!0;try{const u=E(),e=await u.users.addItemToUser({id:U.value.id,itemID:g.value.id,amount:g.value.amount});if(!e.success)console.error("Failed to add item",e.message),w.value=`Erro ao adicionar item: ${e.message}`;else{w.value="Item adicionado com sucesso!";const n=[];for(let S=0;S<g.value.amount;S++)n.push(g.value.id);const b=await u.items.getListItems({ids:n});if(!b.success){console.error("Failed to fetch user stock",b.message);return}for(let S=0;S<g.value.amount;S++)V.value.push({idx:V.value.length+S,...b.result[0]});o.value.find(S=>S.id===U.value.id).owned_items=[...U.value.owned_items,...n]}}catch(u){console.error("Failed to add item",u),w.value=`Erro interno ao adicionar item: ${u==null?void 0:u.toString()}`}de(),$.value=!1,g.value={id:void 0,amount:1,submitted:!1}}},Ee=async u=>{if(Q.value=`Deseja excluir o usuário "${u.username}"?`,A.value=!0,await new Promise(e=>{const n=setInterval(()=>{D.value!==null&&(clearInterval(n),e())},100)}),A.value=!1,!D.value){D.value=null;return}D.value=null;try{await E().users.removeUser(u.id),w.value="Usuário excluído com sucesso!",o.value=await X()}catch(e){console.error("Failed to delete user",e==null?void 0:e.toString()),w.value=`Erro ao excluir usuário: ${e==null?void 0:e.toString()}`}},Le=async u=>{if(Q.value=`Deseja excluir o item "${u.name}" do estoque de ${U.value.username}?`,A.value=!0,await new Promise(e=>{const n=setInterval(()=>{D.value!==null&&(clearInterval(n),e())},100)}),A.value=!1,!D.value){D.value=null;return}D.value=null;try{await E().users.removeItemFromUser(U.value.id,u.id),w.value="Item excluído com sucesso!";const n=U.value.owned_items;n.splice(n.indexOf(u.id),1),U.value.owned_items=n;const b=V.value;b.splice(b.findIndex(S=>S.id===u.id),1),V.value=b}catch(e){console.error("Failed to delete item",e==null?void 0:e.toString()),w.value=`Erro ao excluir item: ${e==null?void 0:e.toString()}`}};return Te(()=>{le(),be()}),Fe([d,j],async()=>{console.log("Fetching users..."),o.value=await X(),console.log("Done fetching users")},{immediate:!0}),(u,e)=>(k(),x(ze,null,[l("div",{class:T(s(F)(`
        flex flex-col items-center justify-center
        size-full
      `))},[r(s(pe),{value:o.value,size:"small","data-key":"id","filter-display":"menu","global-filter-fields":m.value,"sort-field":"id","sort-order":1,"removable-sort":"","table-class":"min-w-[60rem]",class:T(s(F)(`
          p-8
          rounded-xl
          bg-[#18181b]
        `)),filters:c.value,"onUpdate:filters":e[3]||(e[3]=n=>c.value=n)},P({header:v(()=>[l("div",at,[r(s(y),{label:"Novo Usuário",icon:"pi pi-plus",onClick:ye}),r(s(y),{class:"mr-auto",type:"button",icon:"pi pi-filter-slash",label:"Limpar filtros",outlined:"",onClick:e[0]||(e[0]=n=>le())}),r(s(Re),{class:"ml-auto"},{default:v(()=>[r(s(Be),null,{default:v(()=>e[24]||(e[24]=[l("i",{class:"pi pi-search"},null,-1)])),_:1}),r(s(L),{placeholder:"Pesquisar",modelValue:c.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=n=>c.value.global.value=n)},null,8,["modelValue"])]),_:1})])]),footer:v(()=>[r(s(He),{rows:j.value,totalRecords:te.value,first:d.value,"onUpdate:first":e[2]||(e[2]=n=>d.value=n)},null,8,["rows","totalRecords","first"])]),default:v(()=>[r(s(z),{field:"username",header:"Nome de Usuário",sortable:""},{body:v(({data:n})=>[Z(Y(n.username),1)]),filter:v(({filterModel:n})=>[r(s(L),{type:"text",placeholder:"...",modelValue:n.value,"onUpdate:modelValue":b=>n.value=b},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),r(s(z),{field:"role",header:"Cargo",sortable:""},{body:v(({data:n})=>[r(s(ve),{value:se(n.role),severity:re(n.role)},null,8,["value","severity"])]),filter:v(({filterModel:n})=>[r(s(fe),{options:["admin","moderador","jogador"],placeholder:"Selecione um","show-clear":"",modelValue:n.value,"onUpdate:modelValue":b=>n.value=b},{option:v(b=>[r(s(ve),{value:se(b.option),severity:re(b.option)},null,8,["value","severity"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),r(s(z),{class:"max-w-52"},{body:v(({data:n})=>[l("div",{class:T(s(F)(`
                flex items-center justify-end
                gap-3
                h-12
              `))},[r(s(y),{type:"button",size:"small",severity:"help",icon:"pi pi-shopping-bag",label:"Estoque",raised:"",onClick:()=>Se(n)},null,8,["onClick"]),r(s(y),{type:"button",size:"small",severity:"primary",icon:"pi pi-pencil",label:"Editar",raised:"",onClick:()=>ke(n)},null,8,["onClick"]),r(s(y),{type:"button",size:"small",severity:"danger",icon:"pi pi-trash",label:"Excluir",raised:"",onClick:()=>Ee(n)},null,8,["onClick"])],2)]),_:1})]),_:2},[C.value?{name:"empty",fn:v(()=>[e[25]||(e[25]=l("div",{class:"flex items-center justify-center gap-2 p-3"},[l("i",{class:"pi pi-spin pi-spinner"}),l("i",null,"Carregando dados...")],-1))]),key:"0"}:{name:"empty",fn:v(()=>[e[26]||(e[26]=l("div",{class:"flex items-center justify-center p-3"},[l("i",null,"Nenhum usuário encontrado.")],-1))]),key:"1"}]),1032,["value","global-filter-fields","class","filters"])],2),r(s(N),{class:"w-[450px]",header:"Aviso",closable:!1,modal:!0,visible:ne.value,"onUpdate:visible":e[5]||(e[5]=n=>ne.value=n)},{footer:v(()=>[r(s(y),{label:"OK",icon:"pi pi-check",onClick:e[4]||(e[4]=n=>w.value="")})]),default:v(()=>[l("div",it,[l("span",null,Y(w.value),1)])]),_:1},8,["visible"]),r(s(N),{class:"w-[450px]",header:"Confirmação",closable:!1,modal:!0,visible:A.value,"onUpdate:visible":e[8]||(e[8]=n=>A.value=n)},{footer:v(()=>[r(s(y),{label:"Sim",icon:"pi pi-check",onClick:e[6]||(e[6]=n=>D.value=!0)}),r(s(y),{label:"Não",icon:"pi pi-times",text:"",onClick:e[7]||(e[7]=n=>D.value=!1)})]),default:v(()=>[l("div",nt,[l("span",null,Y(Q.value),1)])]),_:1},8,["visible"]),r(s(N),{class:"w-[450px]",header:"Criar um Novo Usuário",closable:!1,modal:!0,visible:B.value,"onUpdate:visible":e[13]||(e[13]=n=>B.value=n)},P({default:v(()=>[R.value?(k(),x("div",lt,e[27]||(e[27]=[l("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):(k(),x("div",st,[l("div",null,[e[28]||(e[28]=l("label",{for:"username",class:"block font-bold mb-3"}," Nome de Usuário ",-1)),r(s(L),{id:"username",required:!0,autofocus:"",invalid:p.value.submitted&&!p.value.username,modelValue:p.value.username,"onUpdate:modelValue":e[9]||(e[9]=n=>p.value.username=n),modelModifiers:{trim:!0},fluid:""},null,8,["invalid","modelValue"]),p.value.submitted&&!p.value.username?(k(),x("small",rt," O nome de usuário é obrigatório. ")):I("",!0)]),l("div",null,[e[29]||(e[29]=l("label",{for:"password",class:"block font-bold mb-3"},"Senha",-1)),r(s(L),{id:"password",required:!0,type:"password",invalid:p.value.submitted&&!p.value.password,modelValue:p.value.password,"onUpdate:modelValue":e[10]||(e[10]=n=>p.value.password=n),modelModifiers:{trim:!0},fluid:""},null,8,["invalid","modelValue"]),p.value.submitted&&!p.value.password?(k(),x("small",ot," A senha é obrigatória. ")):I("",!0)]),l("div",null,[e[32]||(e[32]=l("span",{class:"block font-bold mb-4"},"Cargo",-1)),l("div",ut,[l("div",dt,[r(s(J),{id:"user",name:"user",value:"user",modelValue:p.value.role,"onUpdate:modelValue":e[11]||(e[11]=n=>p.value.role=n)},null,8,["modelValue"]),e[30]||(e[30]=l("label",{for:"user"},"Jogador",-1))]),l("div",mt,[r(s(J),{id:"admin",name:"admin",value:"admin",modelValue:p.value.role,"onUpdate:modelValue":e[12]||(e[12]=n=>p.value.role=n)},null,8,["modelValue"]),e[31]||(e[31]=l("label",{for:"admin"},"Admin",-1))])])])]))]),_:2},[R.value?void 0:{name:"footer",fn:v(()=>[l("div",ct,[r(s(y),{label:"Salvar",icon:"pi pi-check",onClick:we}),r(s(y),{label:"Cancelar",icon:"pi pi-times",text:"",onClick:oe})])]),key:"0"}]),1032,["visible"]),r(s(N),{class:"w-[450px]",header:"Editar Usuário",closable:!1,modal:!0,visible:O.value,"onUpdate:visible":e[18]||(e[18]=n=>O.value=n)},P({default:v(()=>[H.value?(k(),x("div",vt,e[33]||(e[33]=[l("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):(k(),x("div",ft,[l("div",null,[e[34]||(e[34]=l("label",{for:"username",class:"block font-bold mb-3"}," Nome de Usuário ",-1)),r(s(L),{id:"username",required:!0,autofocus:"",invalid:h.value.submitted&&!h.value.username,modelValue:h.value.username,"onUpdate:modelValue":e[14]||(e[14]=n=>h.value.username=n),modelModifiers:{trim:!0},fluid:""},null,8,["invalid","modelValue"]),h.value.submitted&&!h.value.username?(k(),x("small",pt," O nome de usuário é obrigatório. ")):I("",!0)]),l("div",null,[e[35]||(e[35]=l("label",{for:"password",class:"block font-bold mb-3"},[Z(" Senha "),l("i",{class:"text-red-500"},"(Só preencha se deseja alterar!)")],-1)),r(s(L),{id:"password",type:"password",modelValue:h.value.password,"onUpdate:modelValue":e[15]||(e[15]=n=>h.value.password=n),modelModifiers:{trim:!0},fluid:""},null,8,["modelValue"])]),l("div",null,[e[38]||(e[38]=l("span",{class:"block font-bold mb-4"},"Cargo",-1)),l("div",ht,[l("div",gt,[r(s(J),{id:"user",name:"user",value:"user",modelValue:h.value.role,"onUpdate:modelValue":e[16]||(e[16]=n=>h.value.role=n)},null,8,["modelValue"]),e[36]||(e[36]=l("label",{for:"user"},"Jogador",-1))]),l("div",bt,[r(s(J),{id:"admin",name:"admin",value:"admin",modelValue:h.value.role,"onUpdate:modelValue":e[17]||(e[17]=n=>h.value.role=n)},null,8,["modelValue"]),e[37]||(e[37]=l("label",{for:"admin"},"Admin",-1))])])])]))]),_:2},[H.value?void 0:{name:"footer",fn:v(()=>[l("div",yt,[r(s(y),{label:"Salvar",icon:"pi pi-check",onClick:xe}),r(s(y),{label:"Cancelar",icon:"pi pi-times",text:"",onClick:ue})])]),key:"0"}]),1032,["visible"]),r(s(N),{class:"w-3/4",header:ge.value,closable:!1,modal:!0,visible:W.value,"onUpdate:visible":e[20]||(e[20]=n=>W.value=n)},P({default:v(()=>[r(s(pe),{value:V.value,size:"small",paginator:"",rows:10,"total-records":V.value.length,"data-key":"idx","sort-field":"name","sort-order":1,"table-class":"min-w-[60rem]",class:T(s(F)(`
          p-8
          rounded-xl
          bg-[#18181b]
        `)),first:G.value,"onUpdate:first":e[19]||(e[19]=n=>G.value=n)},P({header:v(()=>[l("div",wt,[r(s(y),{label:"Adicionar Item",icon:"pi pi-plus",onClick:Ue})])]),default:v(()=>[r(s(z),{field:"name",header:"Nome"},{body:v(({data:n})=>[Z(Y(n.name),1)]),_:1}),r(s(z),{class:"max-w-4"},{body:v(({data:n})=>[l("div",{class:T(s(F)(`
                flex items-center justify-end
                gap-3
                h-12
              `))},[r(s(y),{type:"button",size:"small",severity:"danger",icon:"pi pi-trash",label:"Excluir",raised:"",onClick:()=>Le(n)},null,8,["onClick"])],2)]),_:1})]),_:2},[K.value?{name:"empty",fn:v(()=>[e[39]||(e[39]=l("div",{class:"flex items-center justify-center gap-2 p-3"},[l("i",{class:"pi pi-spin pi-spinner"}),l("i",null,"Carregando dados...")],-1))]),key:"0"}:{name:"empty",fn:v(()=>[e[40]||(e[40]=l("div",{class:"flex items-center justify-center p-3"},[l("i",null,"Nenhum item encontrado.")],-1))]),key:"1"}]),1032,["value","total-records","class","first"])]),_:2},[K.value?void 0:{name:"footer",fn:v(()=>[l("div",null,[r(s(y),{label:"OK",icon:"pi pi-check",onClick:De})])]),key:"0"}]),1032,["header","visible"]),r(s(N),{class:"w-[450px]",header:"Adicionar Item",closable:!1,modal:!0,visible:q.value,"onUpdate:visible":e[23]||(e[23]=n=>q.value=n)},P({default:v(()=>[$.value?(k(),x("div",kt,e[41]||(e[41]=[l("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):(k(),x("div",xt,[l("div",null,[e[42]||(e[42]=l("label",{for:"item",class:"block font-bold mb-3"},"Item",-1)),r(s(fe),{options:ae.value,"option-label":"name","option-value":"id",placeholder:"Selecione um Item",invalid:g.value.submitted&&(!g.value.id||isNaN(g.value.id)),editable:"",fluid:"",modelValue:g.value.id,"onUpdate:modelValue":e[21]||(e[21]=n=>g.value.id=n),modelModifiers:{number:!0}},null,8,["options","invalid","modelValue"]),g.value.submitted&&(!g.value.id||isNaN(g.value.id))?(k(),x("small",St," Item inválido. ")):I("",!0)]),l("div",null,[e[43]||(e[43]=l("label",{for:"amount",class:"block font-bold mb-3"},"Quantidade",-1)),l("div",Dt,[r(s(L),{class:"text-center !w-12 !text-white !bg-[#09090b]",id:"amount",value:g.value.amount,disabled:"",fluid:""},null,8,["value"]),r(s(he),{class:"mt-6 w-full",modelValue:g.value.amount,"onUpdate:modelValue":e[22]||(e[22]=n=>g.value.amount=n),min:1,max:50},null,8,["modelValue"])])])]))]),_:2},[$.value?void 0:{name:"footer",fn:v(()=>[r(s(y),{label:"Salvar",icon:"pi pi-check",onClick:Ve}),r(s(y),{label:"Cancelar",icon:"pi pi-times",text:"",onClick:de})]),key:"0"}]),1032,["visible"])],64))}});export{Lt as default};
